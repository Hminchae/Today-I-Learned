태그 : #CS #운영체제 #메모리 #페이징

- 연속 메모리 할당 : 프로세스에 연속적인 메모리 공간을 할당
	- 단점 
		- 외부 단편화
		- 물리메모리보다 큰 프로세스 실행 불가
- 스와핑
	- 현재 사용되지 않는 프로세스들을 보조기억장치의 일부 영역(스왑영역)으로 쫓아내고(스왑 아웃)
	- 그렇게 생긴 빈 공간에 새 프로세스를 적재하는 것(스왑 인)
	- 프로세스들이 요구하는 메모리 공간 크기 > 실제 메모리 크기 여도 메모리에 올릴 수 있음 
- 메모리 할당
	- 프로세스는 메모리의 빈 공간에 할당 되어야 한다.. 빈 공간이 여러개 있다면?
	- -> 최초 적합, 최적 적합, 최악 적합
		- 최초 적합(first-fit)
			- 운영체제가 메모리 내의 빈 공간을 순서대로 검색하다가 적재할 수 있는 공간을 발견하면 그 공간에 프로세스를 배치하는 방식
			- 검색 최소화, 빠른 할당
		- 최적 적합(best-fit)
			- 운영체제가 빈 공간을 모두 검색해본 뒤, 적재 가능한 가장 작은 공간에 할당
		- 최악 적합(worst-fit)
			- 운영체제가 빈 공간을 모두 검색해본 뒤, 적재 가능한 가장 큰 공간에 할당
- 외부 단편화
	- 프로세스들이 실행되고 종료되길 반복하며 메모리 사이 사이에 빈 공간 발생
	- -> 즉 프로세스를 할당하기 어려울 만큼 작은 메모리 공간들로 인해 메모리가 낭비되는 현상
	- 외부 단편화 해결 
		1. 메모리 압축(compaction) : 여기저기 흩어져 있는 빈 공간들을 하나로 모으는 방식, 프로세스를 적당히 재배치시켜 흩어져 있는 작은 빈 공간들을 하나의 큰 빈 공간으로 만드는 방법
		2. 가상 메모리 기법, 페이징
			- 가상 메모리
				- 실행하고자 하는 프로그램을 일부만 메모리에 적재하여 실제 물리 메모리 크기보다 더 큰 프로세스를 실행할 수 있게 하는 기술
				- 페이징, 세그멘테이션
			-  페이징(paging)
				- 프로세스의 논리 주소 공간을 페이지(page)라는 일정 단위로 자르고,
				- 메모리의 물리 주소 공간을 프레임(frame)이라는 페이지와 동일한 일정 단위로 자른 뒤 
				- 페이지를 프레임에 할당하는 가상 메모리 관리 기법
				- 페이징에서의 스와핑
					- 프로세스 단위의 스왑 인, 스왑 아웃이 아닌 페이지 단위의 스왑인(페이지 인), 스왑 아웃(페이지 아웃)
					- 메모리에 적재될 필요가 없는 페이지들은 보조기억장치로 스왑 아웃
					- 실행에 필요한 페이지들은 메모리로 스왑인
					- 프로세스를 실행하기 위해 모든 페이지가 적재될 필요 없음
					- 달리 말해 물리 메모리보다 큰 프로세스도 실행될 수 있음
					- 어 근데 ? 
						- 프로세스를 이루는 페이지가 어느 프레임에 적재되어 있는지 CPU가 일일이 알기란 어려움..
						- 프로세스가 메모리에 불연속적으로 배치되어 있다면, CPU 입장에서 이를 순차적으로 실행할 수 가 없음
						- CPU입장에서 `다음에 실행할 명령어 위치`를 찾기가 어려워짐