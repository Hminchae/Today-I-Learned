#보안 #HTTP 

연관 : [Netplix 구독형 멤버쉽 프로젝트로 배우는 Spring Security]

HyperText Transfer Protocol
=> 인터넷에서 데이터를 주고 받을 수 있는 프로토콜 

## 세션과 쿠키
HTTP 프로토콜의 Connectionless, Stateless 라는 특성을 보완하기 위해 쿠키와 세션을 사용함
서버와 클라이언트가 통신을 할 때 통신이 연속적으로 이어지지 않고 한 번 통신이 완료되면 끊어짐
또한, 로그인과 같은 인증에 대한 상태를 클라이언트에서 유지하지 않기 때문에 매번 페이지를 이동하거나 로그인을 다시 하는 등 사용자 입장에서 불편한 상황이 발생할 수 있음 
이러한 문제점을 해결하기 위해 세션과 쿠키를  활용함

### 세션
일정 시간동안 같은 사용자(브라우저)로부터 인입되는 일련의 요청을 하나의 상태로 간주하여 그 상태를 일정하게 유지시키는 기술
=> 여기서의 일정 기간은 방문자가 웹 브라우저를 통해 웹 서버에 젖ㅂ속한 시점으로부터 웹 브라우저를 종료하여 연결을 끝내는 시점을 말함
=> 웹 서버에 접속해 있는 상태를 하나의 단위로 보고 그것을 세션이라고 함

세션도 결국 쿠키를 활용하는 것

### 세션의 특징
- 웹 서버에 저장됨
- 브라우저를 닫거나, 세션을 직접 삭제했을 때 세션이 삭제되므로 쿠키보다 비교적 보안이 좋음
- 서버 용량이 허락되는 한 데이터 양의 제한은 없음
- 각 클라이언트 별 고유 세션 ID를 부여함
- 클라이언트가 페이지에 요청함 (웹 사이트 접근)
- 서버는 접근한 클라이언트의 request header 필드인 cookie를 확인하여, 클라이언트가 해당 세션 id를 보냈는지 확인한다.
- 세션 ID 가 존재하지 않는다면, 서버는 세션 ID 를 생성해 클라이언트에게 돌려줌
- 서버에서 클라이언트로 돌려준 세션ID 를 쿠키를 사용해 서버에 저장한다(JSESSIONID)

HTTP 헤더에 인코딩한 값을 보내는게 보안상 위협이 되기 때문에,,
=> 

## JWT
JWT = JSON Web Token
Json 형식으로 된 데이터를 서버로 전송되는 토큰
header, payload, signature 세 파트로 나뉘어져 있으며 순서대로 구성됨
=> 데이터베이스에 값을 저장하지 않기 때문에 강제 로그아웃과 같은 기능은 구현할 수 없음

활용사례 ? QR 체크인

## 인증과 인가

인증(Authentification)
- 유저가 누구인지 확인하는 절차
- 회원가입과 로그인
인가(Authorization)
- 유저에 대한 권한을 허락하는 절차
- 읽기/쓰기 권한, 메뉴에 대한 접근 권한 등